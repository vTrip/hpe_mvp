<ion-view ng-controller="ManageTicketsCtrl">
  <ion-nav-title ng-show="!game.$loading">
    Manage Tickets
  </ion-nav-title>
  <ion-content id="game-card" ng-show="!game.$loading">
    <div class="game-detail card">
      <div class="row">
        <div class="col">
          <div class="game-detail--date">{{formatDate(game.value.date)}}</div>
          <div class="game-detail--info-left">{{formatTime(game.value.startTime)}}</div>
          <div class="game-detail--info-left">Brookvale Oval</div>
        </div>
        <div class="col">
          <div class="team-logo--{{game.value.awayTeam | lowercase}}"></div>
        </div>
        <div class="col game-detail--tickets-container">
          <div class="game-detail--number-tickets">{{game.value.tickets.length}} Tickets</div>
        </div>
      </div>
    </div>
    <div class="ticket-list card">
      <ion-list>
        <ion-item ng-repeat="ticket in game.value.tickets track by $index">
          <div class="row">
            <div class="col">
              <div class="ticket-list--number">{{ticket}}</div>
            </div>
            <div class="col-20 ticket-list--button">
              <a class="ticket-list--action" href="#/menu/games/{{game.id}}/manage-tickets/{{ticket}}">VIEW</a>
            </div>
          </div>
        </ion-item>
      </ion-list>
    </div>

    <div ng-show="ticket.$show" id="ticket-input" style="height:250px;">
      <form ng-submit="saveTicket()">
        <label class="item item-input item-floating-label">
          <span class="input-label">Enter barcode</span>
          <input type="tel" placeholder="Enter barcode" ng-model="ticket.number" autofocus="true"/>
        </label>
      </form>
    </div>
  </ion-content>
  <div class="button-add" ng-click="addTicket()">
    <div class="button-add--label">Add Ticket</div>
    <div class="button-add--icon">
      <i class="icon ion-plus"></i>
    </div>
  </div>
</ion-view>
